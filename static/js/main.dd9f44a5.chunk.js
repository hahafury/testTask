(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,function(t,e,n){t.exports={itemContainer:"ShopItem_itemContainer__TiU3n",itemImg:"ShopItem_itemImg__3d62x",itemName:"ShopItem_itemName__2IglE",itemPrice:"ShopItem_itemPrice___p8FD",buyButton:"ShopItem_buyButton__Ighta",amountInfo:"ShopItem_amountInfo__2ouqe",amountContainer:"ShopItem_amountContainer__3aJ-A",chooseAmountButton:"ShopItem_chooseAmountButton__2GbZ9"}},,function(t,e,n){t.exports={shoppingCartItemContainer:"ShoppingCartItem_shoppingCartItemContainer__1ymAA",itemImg:"ShoppingCartItem_itemImg__QC_bq",itemName:"ShoppingCartItem_itemName__1TJ8d",itemAmount:"ShoppingCartItem_itemAmount__2Iy-W",itemSum:"ShoppingCartItem_itemSum__juB31",deleteItemButton:"ShoppingCartItem_deleteItemButton__30pIA",amountInfo:"ShoppingCartItem_amountInfo__1zB-X",amountContainer:"ShoppingCartItem_amountContainer__20cor",chooseAmountButton:"ShoppingCartItem_chooseAmountButton__JLg_m"}},function(t,e,n){t.exports={mainPage:"App_mainPage__3hAMu",infoDiv:"App_infoDiv__1sxha",nav:"App_nav__1FzSt",navItem:"App_navItem__2RC4t"}},function(t){t.exports=JSON.parse('[{"name":"Banana","price":10,"img":"https://www.lovemysalad.com/sites/default/files/styles/image_530x397/public/banaan-large.jpg?itok=dZxH6D_w"},{"name":"Apple","price":8,"img":"https://ezsai.com/wp-content/uploads/2021/02/firefox_2018-07-10_07-50-11.png"},{"name":"Papaya","price":10,"img":"https://sudhaventures.com/wp-content/uploads/2021/07/Papaya.jpg","discount":{"value":25,"perKg":3}}]')},,function(t,e,n){t.exports={shoppingCartItemsContainer:"ShoppingCartContainer_shoppingCartItemsContainer__27zhy",totallySum:"ShoppingCartContainer_totallySum__1YlTf"}},,,function(t,e,n){t.exports={itemsContainer:"ShopItemsContainer_itemsContainer__1GTkE"}},,,,,,,function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),i=n(10),c=n.n(i),s=n(3),m="INCREASE",r="DECREASE",u="VIEW_MODE_SHOPPING_CART",l="VIEW_MODE_SHOP",p=n(5),h=n.n(p),g=n(2),_=n.n(g),j=n(0),d=function(t){var e=Object(a.useState)(.25),n=Object(s.a)(e,2),o=n[0],i=n[1],c=Object(a.useRef)(),u=function(t){switch(t){case"INCREASE":i(parseFloat(c.current.value)+.25);break;case"DECREASE":i(o-.25<0?0:parseFloat(c.current.value)-.25)}},l=function(t,e){if(null===t)localStorage.setItem("shopping_cart",JSON.stringify([{name:e.name,amount:e.amount,price:e.price,sum:p(e)}]));else if(!0===function(t,e){var n;return t.forEach((function(t){t.name===e&&(n=t)})),!!n}(t,e.name)){for(var n=0;n<=t.length-1;n++)t[n].name===e.name&&(t[n].amount+=e.amount,t[n].sum=p({name:t[n].name,amount:t[n].amount,price:e.price,discount:e.discount}));localStorage.setItem("shopping_cart",JSON.stringify(t))}else t.push({name:e.name,amount:e.amount,sum:p(e)}),localStorage.setItem("shopping_cart",JSON.stringify(t))},p=function(t){return t.discount?t.amount%t.discount.perKg*t.price+(t.amount-t.amount%t.discount.perKg)*t.discount.value/t.discount.perKg:t.amount*t.price};return Object(j.jsxs)("div",{className:_.a.itemContainer,children:[Object(j.jsx)("div",{className:_.a.itemImg,children:Object(j.jsx)("img",{src:t.img,alt:"item img"})}),Object(j.jsx)("div",{className:_.a.itemName,children:t.name}),Object(j.jsxs)("div",{className:_.a.itemPrice,children:["$",t.price," per kilogram"]}),Object(j.jsx)("div",{className:_.a.amountInfo,children:Object(j.jsxs)("div",{className:_.a.amountContainer,children:[Object(j.jsx)("button",{className:_.a.chooseAmountButton,onClick:function(){return u(r)},children:"-"}),Object(j.jsx)("input",{ref:c,value:o,onChange:function(t){return i(parseFloat(t.target.value))}}),Object(j.jsx)("button",{className:_.a.chooseAmountButton,onClick:function(){return u(m)},children:"+"})]})}),Object(j.jsx)("button",{className:_.a.buyButton,onClick:function(){return function(t,e,n,a){var o=JSON.parse(localStorage.getItem("shopping_cart"));if(n<=0)return alert("Amount must be greater than zero");var i={name:t,price:e,amount:n};a&&(i.discount=a),l(o,i)}(t.name,t.price,o,t.discount)},children:"Buy"})]})},f=n(11),b=n.n(f),O=function(t){return Object(a.useEffect)((function(){})),Object(j.jsx)("div",{className:b.a.itemsContainer,children:t.itemsList.map((function(t,e){return Object(j.jsx)(d,{name:t.name,price:t.price,img:t.img,discount:t.discount?t.discount:null},e)}))})},I=n(6),C=n(8),v=n.n(C),S=n(12),x=n(4),N=n.n(x),A=function(t){var e=Object(a.useState)(!1),n=Object(s.a)(e,2),o=n[0],i=n[1];return Object(j.jsx)(j.Fragment,{children:!o&&Object(j.jsxs)("div",{className:N.a.shoppingCartItemContainer,children:[Object(j.jsx)("div",{className:N.a.itemImg,children:function(t){var e,n,a=Object(S.a)(I);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.name===t&&(e=o.img)}}catch(i){a.e(i)}finally{a.f()}return Object(j.jsx)("img",{src:e,alt:"item img"})}(t.name)}),Object(j.jsx)("div",{className:N.a.itemName,children:t.name}),Object(j.jsxs)("div",{className:N.a.itemAmount,children:["Amount: ",Object(j.jsxs)("strong",{children:[t.amount," kg"]})]}),Object(j.jsxs)("div",{className:N.a.itemSum,children:["Total cost: ",Object(j.jsxs)("strong",{children:["$ ",t.sum]})]}),Object(j.jsx)("button",{className:N.a.deleteItemButton,onClick:function(){return e=t.name,i(!0),void t.handleDelete(e);var e},children:"Delete from shopping cart"})]})})},y=function(t){var e=Object(a.useState)(JSON.parse(localStorage.getItem("shopping_cart"))),n=Object(s.a)(e,2),o=n[0],i=n[1],c=Object(a.useState)((function(){var t=0;return null!==o&&o.length>0?(o.forEach((function(e){t+=e.sum})),t):t})),m=Object(s.a)(c,2),r=m[0],u=m[1],l=function(t){for(var e=0;e<o.length;e++)o[e].name===t&&(u(r-o[e].sum),o.splice(e,1),i(o));localStorage.setItem("shopping_cart",JSON.stringify(o))};return Object(j.jsxs)("div",{className:v.a.shoppingCartContainer,children:[Object(j.jsx)("div",{className:v.a.shoppingCartItemsContainer,children:null!==o&&o.length>0?o.map((function(t,e){return Object(j.jsx)(A,{name:t.name,amount:t.amount,sum:t.sum,img:t.img,handleDelete:l},t.name)})):"Nothing was found"}),Object(j.jsxs)("div",{className:v.a.totallySum,children:["Total cost: $ ",r]})]})};var E=function(){var t=Object(a.useState)(l),e=Object(s.a)(t,2),n=e[0],o=e[1];return Object(j.jsxs)("div",{className:h.a.mainPage,children:[Object(j.jsxs)("div",{className:h.a.nav,children:[Object(j.jsx)("div",{className:h.a.navItem,style:n===l?{backgroundColor:"green",color:"white"}:null,onClick:function(){o(l)},children:"Shop"}),Object(j.jsx)("div",{className:h.a.navItem,style:n===u?{backgroundColor:"green",color:"white"}:null,onClick:function(){o(u)},children:"Shopping cart"})]}),Object(j.jsx)("div",{className:h.a.infoDiv,children:n===l?Object(j.jsx)(O,{itemsList:I}):Object(j.jsx)(y,{})})]})},B=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),o(t),i(t),c(t)}))};c.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root")),B()}],[[18,1,2]]]);
//# sourceMappingURL=main.dd9f44a5.chunk.js.map